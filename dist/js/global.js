"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){t.Package?M={}:t.M={},M.jQueryLoaded=!!t.jQuery}(window),"function"==typeof define&&define.amd?define("M",[],function(){return M}):"undefined"==typeof exports||exports.nodeType||("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=M),exports.default=M),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1;var docHandleKeydown=function(t){t.which===M.keys.TAB&&(M.tabPressed=!0)},docHandleKeyup=function(t){t.which===M.keys.TAB&&(M.tabPressed=!1)};document.addEventListener("keydown",docHandleKeydown),document.addEventListener("keyup",docHandleKeyup),M.initializeJqueryWrapper=function(n,i,r){jQuery.fn[i]=function(e){if(n.prototype[e]){var o=Array.prototype.slice.call(arguments,1);if("get"===e.slice(0,3)){var t=this.first()[0][r];return t[e].apply(t,o)}return this.each(function(){var t=this[r];t[e].apply(t,o)})}if("object"===(void 0===e?"undefined":_typeof(e))||!e)return n.init(this,e),this;jQuery.error("Method "+e+" does not exist on jQuery."+i)}},M.AutoInit=function(t){var e=t||document.body,o={Autocomplete:e.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:e.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:e.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:e.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:e.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:e.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:e.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:e.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:e.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:e.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:e.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:e.querySelectorAll("select:not(.no-autoinit)"),Sidenav:e.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:e.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:e.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:e.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:e.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:e.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var n in o){M[n].init(o[n])}},M.objectSelectorString=function(t){return((t.prop("tagName")||"")+(t.attr("id")||"")+(t.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(t){var e=$(t),o=e.add(e.parents()),n=!1;return o.each(function(){if("fixed"===$(this).css("position"))return!(n=!0)}),n},M.checkWithinContainer=function(t,e,o){var n={top:!1,right:!1,bottom:!1,left:!1},i=t.getBoundingClientRect(),r=t.scrollLeft,l=t.scrollTop,u=e.left-r,a=e.top-l;return(u<i.left+o||u<o)&&(n.left=!0),(u+e.width>i.right-o||u+e.width>window.innerWidth-o)&&(n.right=!0),(a<i.top+o||a<o)&&(n.top=!0),(a+e.height>i.bottom-o||a+e.height>window.innerHeight-o)&&(n.bottom=!0),n},M.checkPossibleAlignments=function(t,e,o,n){var i={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},r="visible"===getComputedStyle(e).overflow,l=e.getBoundingClientRect(),u=Math.min(l.height,window.innerHeight),a=Math.min(l.width,window.innerWidth),c=t.getBoundingClientRect(),d=e.scrollLeft,p=e.scrollTop,s=o.left-d,f=o.top-p,y=o.top+c.height-p;return i.spaceOnRight=r?window.innerWidth-(c.left+o.width):a-(s+o.width),i.spaceOnRight<0&&(i.left=!1),i.spaceOnLeft=r?c.right-o.width:s-o.width+c.width,i.spaceOnLeft<0&&(i.right=!1),i.spaceOnBottom=r?window.innerHeight-(c.top+o.height+n):u-(f+o.height+n),i.spaceOnBottom<0&&(i.top=!1),i.spaceOnTop=r?c.bottom-(o.height+n):y-(o.height-n),i.spaceOnTop<0&&(i.bottom=!1),i},M.getOverflowParent=function(t){return null==t?null:t===document.body||"visible"!==getComputedStyle(t).overflow?t:M.getOverflowParent(t.parentElement)},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=(e=t.getAttribute("href"))?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var getTime=Date.now||function(){return(new Date).getTime()};M.throttle=function(o,n,i){var r=void 0,l=void 0,u=void 0,a=null,c=0;i||(i={});var d=function(){c=!1===i.leading?0:getTime(),a=null,u=o.apply(r,l),r=l=null};return function(){var t=getTime();c||!1!==i.leading||(c=t);var e=n-(t-c);return r=this,l=arguments,e<=0?(clearTimeout(a),a=null,c=t,u=o.apply(r,l),r=l=null):a||!1===i.trailing||(a=setTimeout(d,e)),u}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJQYWNrYWdlIiwiTSIsImpRdWVyeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJub2RlVHlwZSIsIm1vZHVsZSIsImRlZmF1bHQiLCJUQUIiLCJFTlRFUiIsImtleXMiLCJ0YWJQcmVzc2VkIiwiZG9jSGFuZGxlS2V5ZG93biIsImUiLCJkb2NIYW5kbGVLZXl1cCIsIndoaWNoIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIiLCJwbHVnaW4iLCJwbHVnaW5OYW1lIiwiY2xhc3NSZWYiLCJtZXRob2RPck9wdGlvbnMiLCJwcm90b3R5cGUiLCJjYWxsIiwiYXJndW1lbnRzIiwic2xpY2UiLCJpbnN0YW5jZSIsInBhcmFtcyIsInRoaXMiLCJlYWNoIiwiX3R5cGVvZiIsImluaXQiLCJlcnJvciIsIkF1dG9Jbml0IiwiY29udGV4dCIsInJvb3QiLCJib2R5IiwiQXV0b2NvbXBsZXRlIiwiQ2Fyb3VzZWwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiQ2hpcHMiLCJDb2xsYXBzaWJsZSIsIkRhdGVwaWNrZXIiLCJEcm9wZG93biIsIk1hdGVyaWFsYm94IiwiTW9kYWwiLCJQYXJhbGxheCIsIlB1c2hwaW4iLCJTY3JvbGxTcHkiLCJGb3JtU2VsZWN0IiwiU2lkZW5hdiIsIlRhYnMiLCJUYXBUYXJnZXQiLCJUaW1lcGlja2VyIiwiVG9vbHRpcCIsIkZsb2F0aW5nQWN0aW9uQnV0dG9uIiwicmVnaXN0cnkiLCJvYmplY3RTZWxlY3RvclN0cmluZyIsIm9iaiIsImNsYXNzU3RyIiwiYXR0ciIsInRhZ1N0ciIsImlkU3RyIiwicmVwbGFjZSIsImd1aWQiLCJzNCIsIk1hdGgiLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImVzY2FwZUhhc2giLCIkY2hlY2tFbGVtZW50cyIsIiRlbGVtZW50IiwiaXNGaXhlZCIsImVsZW1lbnQiLCIkIiwiYWRkIiwicGFyZW50cyIsImNzcyIsImNoZWNrV2l0aGluQ29udGFpbmVyIiwiY29udGFpbmVyIiwiYm91bmRpbmciLCJvZmZzZXQiLCJlZGdlcyIsInRvcCIsImNvbnRhaW5lclJlY3QiLCJyaWdodCIsImJvdHRvbSIsInNjcm9sbExlZnQiLCJsZWZ0Iiwic2Nyb2xsVG9wIiwic2Nyb2xsZWRZIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic2Nyb2xsZWRYIiwic3BhY2VPblJpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImNoZWNrUG9zc2libGVBbGlnbm1lbnRzIiwiZWwiLCJjb250YWluZXJBbGxvd3NPdmVyZmxvdyIsImNvbnRhaW5lckhlaWdodCIsImNvbnRhaW5lcldpZHRoIiwiZWxPZmZzZXRSZWN0Iiwic3BhY2VPblRvcCIsInNwYWNlT25Cb3R0b20iLCJzcGFjZU9uTGVmdCIsInNjcm9sbGVkWUJvdHRvbUVkZ2UiLCJtaW4iLCJjYW5BbGlnbiIsImdldE92ZXJmbG93UGFyZW50Iiwic2Nyb2xsZWRZVG9wRWRnZSIsImdldElkRnJvbVRyaWdnZXIiLCJ0cmlnZ2VyIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIm92ZXJmbG93IiwiaWQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0RG9jdW1lbnRTY3JvbGxUb3AiLCJwYWdlWU9mZnNldCIsImdldEF0dHJpYnV0ZSIsImRvY3VtZW50RWxlbWVudCIsImdldERvY3VtZW50U2Nyb2xsTGVmdCIsInBhZ2VYT2Zmc2V0IiwiZ2V0VGltZSIsInRpbWVvdXQiLCJub3ciLCJwcmV2aW91cyIsImZ1bmMiLCJ3YWl0Iiwib3B0aW9ucyIsInJlc3VsdCIsImFyZ3MiLCJsZWFkaW5nIiwiYXBwbHkiLCJyZW1haW5pbmciLCJjbGVhclRpbWVvdXQiLCJ0cmFpbGluZyIsInNldFRpbWVvdXQiLCJsYXRlciJdLCJtYXBwaW5ncyI6Im9PQUNBLFNBQVVBLEdBQ0xBLEVBQU9DLFFBQ1JDLEVBQUksR0FGUEYsRUFBU0EsRUFBQUEsR0FJTkEsRUFBQUEsZUFBQUEsRUFBQUcsT0FKSixDQUtH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QVNpRyxHQUM3QmpHLEVBQVVpRyxFQUFPLE1BQ1BQLElBQWdDLElBQXJCSyxFQUFRTyxXQUM3QlosRUFBVWEsV0FBV0MsRUFBT0osSUFFdkJKIiwiZmlsZSI6Imdsb2JhbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFJlcXVpcmVkIGZvciBNZXRlb3IgcGFja2FnZSwgdGhlIHVzZSBvZiB3aW5kb3cgcHJldmVudHMgZXhwb3J0IGJ5IE1ldGVvclxuKGZ1bmN0aW9uKHdpbmRvdyl7XG4gIGlmKHdpbmRvdy5QYWNrYWdlKXtcbiAgICBNID0ge307XG4gIH0gZWxzZSB7XG4gICAgd2luZG93Lk0gPSB7fTtcbiAgfVxuXG4gIC8vIENoZWNrIGZvciBqUXVlcnlcbiAgTS5qUXVlcnlMb2FkZWQgPSAhIXdpbmRvdy5qUXVlcnk7XG59KSh3aW5kb3cpO1xuXG5cbi8vIEFNRFxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0ZGVmaW5lKCBcIk1cIiwgW10sIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBNO1xuXHR9ICk7XG5cbi8vIENvbW1vbiBKU1xufSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgIWV4cG9ydHMubm9kZVR5cGUpIHtcbiAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBNO1xuICB9XG4gIGV4cG9ydHMuZGVmYXVsdCA9IE07XG59XG5cbk0ua2V5cyA9IHtcbiAgVEFCOiA5LFxuICBFTlRFUjogMTMsXG4gIEVTQzogMjcsXG4gIEFSUk9XX1VQOiAzOCxcbiAgQVJST1dfRE9XTjogNDBcbn07XG5cblxuLyoqXG4gKiBUYWJQcmVzcyBLZXlkb3duIGhhbmRsZXJcbiAqL1xuTS50YWJQcmVzc2VkID0gZmFsc2U7XG5sZXQgZG9jSGFuZGxlS2V5ZG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5UQUIpIHtcbiAgICBNLnRhYlByZXNzZWQgPSB0cnVlO1xuICB9XG59O1xubGV0IGRvY0hhbmRsZUtleXVwID0gZnVuY3Rpb24oZSkge1xuICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLlRBQikge1xuICAgIE0udGFiUHJlc3NlZCA9IGZhbHNlO1xuICB9XG59O1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRvY0hhbmRsZUtleWRvd24pO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBkb2NIYW5kbGVLZXl1cCk7XG5cblxuLyoqXG4gKiBJbml0aWFsaXplIGpRdWVyeSB3cmFwcGVyIGZvciBwbHVnaW5cbiAqIEBwYXJhbSB7Q2xhc3N9IHBsdWdpbiAgamF2YXNjcmlwdCBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgIGpRdWVyeSBwbHVnaW4gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzUmVmICBDbGFzcyByZWZlcmVuY2UgbmFtZVxuICovXG5NLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyID0gZnVuY3Rpb24ocGx1Z2luLCBwbHVnaW5OYW1lLCBjbGFzc1JlZikge1xuICBqUXVlcnkuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbihtZXRob2RPck9wdGlvbnMpIHtcbiAgICAvLyBDYWxsIHBsdWdpbiBtZXRob2QgaWYgdmFsaWQgbWV0aG9kIG5hbWUgaXMgcGFzc2VkIGluXG4gICAgaWYgKHBsdWdpbi5wcm90b3R5cGVbbWV0aG9kT3JPcHRpb25zXSkge1xuICAgICAgbGV0IHBhcmFtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKTtcblxuICAgICAgLy8gR2V0dGVyIG1ldGhvZHNcbiAgICAgIGlmIChtZXRob2RPck9wdGlvbnMuc2xpY2UoMCwzKSA9PT0gJ2dldCcpIHtcbiAgICAgICAgbGV0IGluc3RhbmNlID0gdGhpcy5maXJzdCgpWzBdW2NsYXNzUmVmXTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlW21ldGhvZE9yT3B0aW9uc10uYXBwbHkoaW5zdGFuY2UsIHBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFZvaWQgbWV0aG9kc1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IGluc3RhbmNlID0gdGhpc1tjbGFzc1JlZl07XG4gICAgICAgIGluc3RhbmNlW21ldGhvZE9yT3B0aW9uc10uYXBwbHkoaW5zdGFuY2UsIHBhcmFtcyk7XG4gICAgICB9KTtcblxuICAgIC8vIEluaXRpYWxpemUgcGx1Z2luIGlmIG9wdGlvbnMgb3Igbm8gYXJndW1lbnQgaXMgcGFzc2VkIGluXG4gICAgfSBlbHNlIGlmICggdHlwZW9mIG1ldGhvZE9yT3B0aW9ucyA9PT0gJ29iamVjdCcgfHwgISBtZXRob2RPck9wdGlvbnMgKSB7XG4gICAgICBwbHVnaW4uaW5pdCh0aGlzLCBhcmd1bWVudHNbMF0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gZXJyb3IgaWYgYW4gdW5yZWNvZ25pemVkICBtZXRob2QgbmFtZSBpcyBwYXNzZWQgaW5cbiAgICBqUXVlcnkuZXJyb3IoYE1ldGhvZCAke21ldGhvZE9yT3B0aW9uc30gZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LiR7cGx1Z2luTmFtZX1gKTtcbiAgfTtcbn07XG5cblxuLyoqXG4gKiBBdXRvbWF0aWNhbGx5IGluaXRpYWxpemUgY29tcG9uZW50c1xuICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0ICBET00gRWxlbWVudCB0byBzZWFyY2ggd2l0aGluIGZvciBjb21wb25lbnRzXG4gKi9cbk0uQXV0b0luaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIC8vIFVzZSBkb2N1bWVudC5ib2R5IGlmIG5vIGNvbnRleHQgaXMgZ2l2ZW5cbiAgbGV0IHJvb3QgID0gISFjb250ZXh0ID8gY29udGV4dCA6IGRvY3VtZW50LmJvZHk7XG5cbiAgbGV0IHJlZ2lzdHJ5ID0ge1xuICAgIEF1dG9jb21wbGV0ZTogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuYXV0b2NvbXBsZXRlOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgQ2Fyb3VzZWw6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgQ2hpcHM6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNoaXBzOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgQ29sbGFwc2libGU6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNvbGxhcHNpYmxlOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgRGF0ZXBpY2tlcjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZXBpY2tlcjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIERyb3Bkb3duOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wZG93bi10cmlnZ2VyOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgTWF0ZXJpYWxib3g6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLm1hdGVyaWFsYm94ZWQ6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBNb2RhbDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWw6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBQYXJhbGxheDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcucGFyYWxsYXg6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBQdXNocGluOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wdXNocGluOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgU2Nyb2xsU3B5OiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY3JvbGxzcHk6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBGb3JtU2VsZWN0OiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlbGVjdDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFNpZGVuYXY6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnNpZGVuYXY6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBUYWJzOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgVGFwVGFyZ2V0OiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXAtdGFyZ2V0Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgVGltZXBpY2tlcjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcudGltZXBpY2tlcjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFRvb2x0aXA6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnRvb2x0aXBwZWQ6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBGbG9hdGluZ0FjdGlvbkJ1dHRvbjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuZml4ZWQtYWN0aW9uLWJ0bjpub3QoLm5vLWF1dG9pbml0KScpXG4gIH07XG5cbiAgZm9yIChsZXQgcGx1Z2luTmFtZSBpbiByZWdpc3RyeSkge1xuICAgIGxldCBwbHVnaW4gPSBNW3BsdWdpbk5hbWVdO1xuICAgIHBsdWdpbi5pbml0KHJlZ2lzdHJ5W3BsdWdpbk5hbWVdKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEdlbmVyYXRlIGFwcHJveGltYXRlZCBzZWxlY3RvciBzdHJpbmcgZm9yIGEgalF1ZXJ5IG9iamVjdFxuICogQHBhcmFtIHtqUXVlcnl9IG9iaiAgalF1ZXJ5IG9iamVjdCB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbk0ub2JqZWN0U2VsZWN0b3JTdHJpbmcgPSBmdW5jdGlvbihvYmopIHtcbiAgbGV0IHRhZ1N0ciA9IG9iai5wcm9wKCd0YWdOYW1lJykgfHwgJyc7XG4gIGxldCBpZFN0ciA9IG9iai5hdHRyKCdpZCcpIHx8ICcnO1xuICBsZXQgY2xhc3NTdHIgPSBvYmouYXR0cignY2xhc3MnKSB8fCAnJztcbiAgcmV0dXJuICh0YWdTdHIgKyBpZFN0ciArIGNsYXNzU3RyKS5yZXBsYWNlKC9cXHMvZywnJyk7XG59O1xuXG5cbi8vIFVuaXF1ZSBSYW5kb20gSURcbk0uZ3VpZCA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gczQoKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApXG4gICAgICAudG9TdHJpbmcoMTYpXG4gICAgICAuc3Vic3RyaW5nKDEpO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gczQoKSArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArXG4gICAgICAgICAgIHM0KCkgKyAnLScgKyBzNCgpICsgczQoKSArIHM0KCk7XG4gIH07XG59KSgpO1xuXG4vKipcbiAqIEVzY2FwZXMgaGFzaCBmcm9tIHNwZWNpYWwgY2hhcmFjdGVyc1xuICogQHBhcmFtIHtzdHJpbmd9IGhhc2ggIFN0cmluZyByZXR1cm5lZCBmcm9tIHRoaXMuaGFzaFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuTS5lc2NhcGVIYXNoID0gZnVuY3Rpb24oaGFzaCkge1xuICByZXR1cm4gaGFzaC5yZXBsYWNlKCAvKDp8XFwufFxcW3xcXF18LHw9fFxcLykvZywgXCJcXFxcJDFcIiApO1xufTtcblxuTS5lbGVtZW50T3JQYXJlbnRJc0ZpeGVkID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBsZXQgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICBsZXQgJGNoZWNrRWxlbWVudHMgPSAkZWxlbWVudC5hZGQoJGVsZW1lbnQucGFyZW50cygpKTtcbiAgbGV0IGlzRml4ZWQgPSBmYWxzZTtcbiAgJGNoZWNrRWxlbWVudHMuZWFjaChmdW5jdGlvbigpe1xuICAgIGlmICgkKHRoaXMpLmNzcyhcInBvc2l0aW9uXCIpID09PSBcImZpeGVkXCIpIHtcbiAgICAgIGlzRml4ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpc0ZpeGVkO1xufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFZGdlc1xuICogQHByb3BlcnR5IHtCb29sZWFufSB0b3AgIElmIHRoZSB0b3AgZWRnZSB3YXMgZXhjZWVkZWRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gcmlnaHQgIElmIHRoZSByaWdodCBlZGdlIHdhcyBleGNlZWRlZFxuICogQHByb3BlcnR5IHtCb29sZWFufSBib3R0b20gIElmIHRoZSBib3R0b20gZWRnZSB3YXMgZXhjZWVkZWRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gbGVmdCAgSWYgdGhlIGxlZnQgZWRnZSB3YXMgZXhjZWVkZWRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJvdW5kaW5nXG4gKiBAcHJvcGVydHkge051bWJlcn0gbGVmdCAgbGVmdCBvZmZzZXQgY29vcmRpbmF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHRvcCAgdG9wIG9mZnNldCBjb29yZGluYXRlXG4gKiBAcHJvcGVydHkge051bWJlcn0gd2lkdGhcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBoZWlnaHRcbiAqL1xuXG4vKipcbiAqIEVzY2FwZXMgaGFzaCBmcm9tIHNwZWNpYWwgY2hhcmFjdGVyc1xuICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXIgIENvbnRhaW5lciBlbGVtZW50IHRoYXQgYWN0cyBhcyB0aGUgYm91bmRhcnlcbiAqIEBwYXJhbSB7Qm91bmRpbmd9IGJvdW5kaW5nICBlbGVtZW50IGJvdW5kaW5nIHRoYXQgaXMgYmVpbmcgY2hlY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCAgb2Zmc2V0IGZyb20gZWRnZSB0aGF0IGNvdW50cyBhcyBleGNlZWRpbmdcbiAqIEByZXR1cm5zIHtFZGdlc31cbiAqL1xuTS5jaGVja1dpdGhpbkNvbnRhaW5lciA9IGZ1bmN0aW9uKGNvbnRhaW5lciwgYm91bmRpbmcsIG9mZnNldCkge1xuICBsZXQgZWRnZXMgPSB7XG4gICAgdG9wOiBmYWxzZSxcbiAgICByaWdodDogZmFsc2UsXG4gICAgYm90dG9tOiBmYWxzZSxcbiAgICBsZWZ0OiBmYWxzZVxuICB9O1xuXG4gIGxldCBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIGxldCBzY3JvbGxMZWZ0ID0gY29udGFpbmVyLnNjcm9sbExlZnQ7XG4gIGxldCBzY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsVG9wO1xuXG4gIGxldCBzY3JvbGxlZFggPSBib3VuZGluZy5sZWZ0IC0gc2Nyb2xsTGVmdDtcbiAgbGV0IHNjcm9sbGVkWSA9IGJvdW5kaW5nLnRvcCAtIHNjcm9sbFRvcDtcblxuICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgZWFjaCBlZGdlXG4gIGlmIChzY3JvbGxlZFggPCBjb250YWluZXJSZWN0LmxlZnQgKyBvZmZzZXQgfHxcbiAgICAgIHNjcm9sbGVkWCA8IG9mZnNldCkge1xuICAgIGVkZ2VzLmxlZnQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHNjcm9sbGVkWCArIGJvdW5kaW5nLndpZHRoID4gY29udGFpbmVyUmVjdC5yaWdodCAtIG9mZnNldCB8fFxuICAgICAgc2Nyb2xsZWRYICsgYm91bmRpbmcud2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIG9mZnNldCkge1xuICAgIGVkZ2VzLnJpZ2h0ID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChzY3JvbGxlZFkgPCBjb250YWluZXJSZWN0LnRvcCArIG9mZnNldCB8fFxuICAgICAgc2Nyb2xsZWRZIDwgb2Zmc2V0KSB7XG4gICAgZWRnZXMudG9wID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChzY3JvbGxlZFkgKyBib3VuZGluZy5oZWlnaHQgPiBjb250YWluZXJSZWN0LmJvdHRvbSAtIG9mZnNldCB8fFxuICAgICAgc2Nyb2xsZWRZICsgYm91bmRpbmcuaGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0IC0gb2Zmc2V0KSB7XG4gICAgZWRnZXMuYm90dG9tID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBlZGdlcztcbn07XG5cblxuTS5jaGVja1Bvc3NpYmxlQWxpZ25tZW50cyA9IGZ1bmN0aW9uKGVsLCBjb250YWluZXIsIGJvdW5kaW5nLCBvZmZzZXQpIHtcbiAgbGV0IGNhbkFsaWduID0ge1xuICAgIHRvcDogdHJ1ZSxcbiAgICByaWdodDogdHJ1ZSxcbiAgICBib3R0b206IHRydWUsXG4gICAgbGVmdDogdHJ1ZSxcbiAgICBzcGFjZU9uVG9wOiBudWxsLFxuICAgIHNwYWNlT25SaWdodDogbnVsbCxcbiAgICBzcGFjZU9uQm90dG9tOiBudWxsLFxuICAgIHNwYWNlT25MZWZ0OiBudWxsXG4gIH07XG5cbiAgbGV0IGNvbnRhaW5lckFsbG93c092ZXJmbG93ID0gZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIpLm92ZXJmbG93ID09PSAndmlzaWJsZSc7XG4gIGxldCBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBsZXQgY29udGFpbmVySGVpZ2h0ID0gTWF0aC5taW4oY29udGFpbmVyUmVjdC5oZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gIGxldCBjb250YWluZXJXaWR0aCA9IE1hdGgubWluKGNvbnRhaW5lclJlY3Qud2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgbGV0IGVsT2Zmc2V0UmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIGxldCBzY3JvbGxMZWZ0ID0gY29udGFpbmVyLnNjcm9sbExlZnQ7XG4gIGxldCBzY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsVG9wO1xuXG4gIGxldCBzY3JvbGxlZFggPSBib3VuZGluZy5sZWZ0IC0gc2Nyb2xsTGVmdDtcbiAgbGV0IHNjcm9sbGVkWVRvcEVkZ2UgPSBib3VuZGluZy50b3AgLSBzY3JvbGxUb3A7XG4gIGxldCBzY3JvbGxlZFlCb3R0b21FZGdlID0gYm91bmRpbmcudG9wICsgZWxPZmZzZXRSZWN0LmhlaWdodCAtIHNjcm9sbFRvcDtcblxuICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgbGVmdFxuICBjYW5BbGlnbi5zcGFjZU9uUmlnaHQgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3cgPyBjb250YWluZXJXaWR0aCAtIChzY3JvbGxlZFggKyBib3VuZGluZy53aWR0aCkgOlxuICAgIHdpbmRvdy5pbm5lcldpZHRoIC0gKGVsT2Zmc2V0UmVjdC5sZWZ0ICsgYm91bmRpbmcud2lkdGgpO1xuICBpZiAoY2FuQWxpZ24uc3BhY2VPblJpZ2h0IDwgMCkge1xuICAgIGNhbkFsaWduLmxlZnQgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIENoZWNrIGZvciBjb250YWluZXIgYW5kIHZpZXdwb3J0IGZvciBSaWdodFxuICBjYW5BbGlnbi5zcGFjZU9uTGVmdCA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvdyA/IHNjcm9sbGVkWCAtIGJvdW5kaW5nLndpZHRoICsgZWxPZmZzZXRSZWN0LndpZHRoIDpcbiAgICBlbE9mZnNldFJlY3QucmlnaHQgLSBib3VuZGluZy53aWR0aDtcbiAgaWYgKGNhbkFsaWduLnNwYWNlT25MZWZ0IDwgMCkge1xuICAgIGNhbkFsaWduLnJpZ2h0ID0gZmFsc2U7XG4gIH1cblxuICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgVG9wXG4gIGNhbkFsaWduLnNwYWNlT25Cb3R0b20gPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3cgPyBjb250YWluZXJIZWlnaHQgLSAoc2Nyb2xsZWRZVG9wRWRnZSArIGJvdW5kaW5nLmhlaWdodCArIG9mZnNldCkgOlxuICAgIHdpbmRvdy5pbm5lckhlaWdodCAtIChlbE9mZnNldFJlY3QudG9wICsgYm91bmRpbmcuaGVpZ2h0ICsgb2Zmc2V0KTtcbiAgaWYgKGNhbkFsaWduLnNwYWNlT25Cb3R0b20gPCAwKSB7XG4gICAgY2FuQWxpZ24udG9wID0gZmFsc2U7XG4gIH1cblxuICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgQm90dG9tXG4gIGNhbkFsaWduLnNwYWNlT25Ub3AgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3cgPyBzY3JvbGxlZFlCb3R0b21FZGdlIC0gKGJvdW5kaW5nLmhlaWdodCAtIG9mZnNldCkgOlxuICAgIGVsT2Zmc2V0UmVjdC5ib3R0b20gLSAoYm91bmRpbmcuaGVpZ2h0ICsgb2Zmc2V0KTtcbiAgaWYgKGNhbkFsaWduLnNwYWNlT25Ub3AgPCAwKSB7XG4gICAgY2FuQWxpZ24uYm90dG9tID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gY2FuQWxpZ247XG59O1xuXG5cbk0uZ2V0T3ZlcmZsb3dQYXJlbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChlbGVtZW50ID09PSBkb2N1bWVudC5ib2R5IHx8IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkub3ZlcmZsb3cgIT09ICd2aXNpYmxlJykge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIE0uZ2V0T3ZlcmZsb3dQYXJlbnQoZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcbn07XG5cblxuLyoqXG4gKiBHZXRzIGlkIG9mIGNvbXBvbmVudCBmcm9tIGEgdHJpZ2dlclxuICogQHBhcmFtIHtFbGVtZW50fSB0cmlnZ2VyICB0cmlnZ2VyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5NLmdldElkRnJvbVRyaWdnZXIgPSBmdW5jdGlvbih0cmlnZ2VyKSB7XG4gIGxldCBpZCA9IHRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpO1xuICBpZiAoIWlkKSB7XG4gICAgaWQgPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgIGlmIChpZCkge1xuICAgICAgaWQgPSBpZC5zbGljZSgxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWQgPSBcIlwiO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaWQ7XG59O1xuXG5cbi8qKlxuICogTXVsdGkgYnJvd3NlciBzdXBwb3J0IGZvciBkb2N1bWVudCBzY3JvbGwgdG9wXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG5NLmdldERvY3VtZW50U2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xufTtcblxuLyoqXG4gKiBNdWx0aSBicm93c2VyIHN1cHBvcnQgZm9yIGRvY3VtZW50IHNjcm9sbCBsZWZ0XG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG5NLmdldERvY3VtZW50U2Nyb2xsTGVmdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCAwO1xufTtcblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEVkZ2VzXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHRvcCAgSWYgdGhlIHRvcCBlZGdlIHdhcyBleGNlZWRlZFxuICogQHByb3BlcnR5IHtCb29sZWFufSByaWdodCAgSWYgdGhlIHJpZ2h0IGVkZ2Ugd2FzIGV4Y2VlZGVkXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGJvdHRvbSAgSWYgdGhlIGJvdHRvbSBlZGdlIHdhcyBleGNlZWRlZFxuICogQHByb3BlcnR5IHtCb29sZWFufSBsZWZ0ICBJZiB0aGUgbGVmdCBlZGdlIHdhcyBleGNlZWRlZFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQm91bmRpbmdcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBsZWZ0ICBsZWZ0IG9mZnNldCBjb29yZGluYXRlXG4gKiBAcHJvcGVydHkge051bWJlcn0gdG9wICB0b3Agb2Zmc2V0IGNvb3JkaW5hdGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSB3aWR0aFxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGhlaWdodFxuICovXG5cblxuLyoqXG4gKiBHZXQgdGltZSBpbiBtc1xuICogQGxpY2Vuc2UgaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9tYXN0ZXIvTElDRU5TRVxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5sZXQgZ2V0VGltZSA9IChEYXRlLm5vdyB8fCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbn0pO1xuXG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgb25seSBiZSB0cmlnZ2VyZWQgYXQgbW9zdCBvbmNlXG4gKiBkdXJpbmcgYSBnaXZlbiB3aW5kb3cgb2YgdGltZS4gTm9ybWFsbHksIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbCBydW5cbiAqIGFzIG11Y2ggYXMgaXQgY2FuLCB3aXRob3V0IGV2ZXIgZ29pbmcgbW9yZSB0aGFuIG9uY2UgcGVyIGB3YWl0YCBkdXJhdGlvbjtcbiAqIGJ1dCBpZiB5b3UnZCBsaWtlIHRvIGRpc2FibGUgdGhlIGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlLCBwYXNzXG4gKiBge2xlYWRpbmc6IGZhbHNlfWAuIFRvIGRpc2FibGUgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlLCBkaXR0by5cbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvbWFzdGVyL0xJQ0VOU0VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmNcbiAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0XG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuTS50aHJvdHRsZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgbGV0IGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgbGV0IHRpbWVvdXQgPSBudWxsO1xuICBsZXQgcHJldmlvdXMgPSAwO1xuICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICBsZXQgbGF0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IGdldFRpbWUoKTtcbiAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgbm93ID0gZ2V0VGltZSgpO1xuICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBub3c7XG4gICAgbGV0IHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn07XG4iXX0=
