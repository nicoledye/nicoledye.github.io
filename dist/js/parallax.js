"use strict";var _createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),_get=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var l=Object.getPrototypeOf(t);return null===l?void 0:e(l,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(r){var t={responsiveThreshold:0},e=function(e){function a(e,t){_classCallCheck(this,a);var n=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,e,t));return(n.el.M_Parallax=n).options=r.extend({},a.defaults,t),n._enabled=window.innerWidth>n.options.responsiveThreshold,n.$img=n.$el.find("img").first(),n.$img.each(function(){this.complete&&r(this).trigger("load")}),n._updateParallax(),n._setupEventHandlers(),n._setupStyles(),a._parallaxes.push(n),n}return _inherits(a,Component),_createClass(a,[{key:"destroy",value:function(){a._parallaxes.splice(a._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===a._parallaxes.length&&(a._handleScrollThrottled=M.throttle(a._handleScroll,5),window.addEventListener("scroll",a._handleScrollThrottled),a._handleWindowResizeThrottled=M.throttle(a._handleWindowResize,5),window.addEventListener("resize",a._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===a._parallaxes.length&&(window.removeEventListener("scroll",a._handleScrollThrottled),window.removeEventListener("resize",a._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var e=0<this.$el.height()?this.el.parentNode.offsetHeight:500,t=this.$img[0].offsetHeight-e,n=this.$el.offset().top+e,a=this.$el.offset().top,r=M.getDocumentScrollTop(),l=window.innerHeight,o=t*((r+l-a)/(e+l));this._enabled?r<n&&a<r+l&&(this.$img[0].style.transform="translate3D(-50%, "+o+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(e,t){return _get(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Parallax}},{key:"_handleScroll",value:function(){for(var e=0;e<a._parallaxes.length;e++){var t=a._parallaxes[e];t._updateParallax.call(t)}}},{key:"_handleWindowResize",value:function(){for(var e=0;e<a._parallaxes.length;e++){var t=a._parallaxes[e];t._enabled=window.innerWidth>t.options.responsiveThreshold}}},{key:"defaults",get:function(){return t}}]),a}();e._parallaxes=[],M.Parallax=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"parallax","M_Parallax")}(cash);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcmFsbGF4LmpzIl0sIm5hbWVzIjpbIiQiLCJfZGVmYXVsdHMiLCJyZXNwb25zaXZlVGhyZXNob2xkIiwiUGFyYWxsYXgiLCJfQ29tcG9uZW50IiwiZWwiLCJvcHRpb25zIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImNhbGwiLCJNX1BhcmFsbGF4IiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJfZW5hYmxlZCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCIkaW1nIiwiZmlyc3QiLCJlYWNoIiwiY29tcGxldGUiLCJ0cmlnZ2VyIiwiX3VwZGF0ZVBhcmFsbGF4IiwiX3NldHVwRXZlbnRIYW5kbGVycyIsIl9zZXR1cFN0eWxlcyIsIl9wYXJhbGxheGVzIiwicHVzaCIsIl9pbmhlcml0cyIsIkNvbXBvbmVudCIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwic3BsaWNlIiwiaW5kZXhPZiIsInN0eWxlIiwidHJhbnNmb3JtIiwiX3JlbW92ZUV2ZW50SGFuZGxlcnMiLCJfaGFuZGxlSW1hZ2VMb2FkQm91bmQiLCJfaGFuZGxlSW1hZ2VMb2FkIiwiYmluZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsZW5ndGgiLCJfaGFuZGxlU2Nyb2xsVGhyb3R0bGVkIiwiTSIsInRocm90dGxlIiwiX2hhbmRsZVNjcm9sbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlV2luZG93UmVzaXplIiwib3BhY2l0eSIsIl9oYW5kbGVXaW5kb3dSZXNpemVUaHJvdHRsZWQiLCJjb250YWluZXJIZWlnaHQiLCJnZXREb2N1bWVudFNjcm9sbFRvcCIsInBhcmVudE5vZGUiLCJvZmZzZXRIZWlnaHQiLCJwYXJhbGxheERpc3QiLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsInNjcm9sbFRvcCIsImJvdHRvbSIsInBlcmNlbnRTY3JvbGxlZCIsIndpbmRvd0JvdHRvbSIsInRvcCIsInBhcmFsbGF4IiwiX2dldCIsImVscyIsIiRlbCIsInVuZGVmaW5lZCIsImkiLCJwYXJhbGxheEluc3RhbmNlIiwiZ2V0IiwiZG9tRWxlbSIsImpRdWVyeUxvYWRlZCIsImluaXRpYWxpemVKcXVlcnlXcmFwcGVyIiwiY2FzaCJdLCJtYXBwaW5ncyI6IjRuQ0FBQSxTQUFVQSxHQUdSLElBQUlDLEVBQVksQ0FDZEMsb0JBQXFCLEdBR2pCQyxFQVBLLFNBQUFDLEdBU1QsU0FBQUQsRUFBWUUsRUFBSUMsR0FBU0MsZ0JBQUFDLEtBQUFMLEdBQUEsSUFBQU0sRUFBQUMsMkJBQUFGLE1BQUFMLEVBQUFRLFdBQUFDLE9BQUFDLGVBQUFWLElBQUFXLEtBQUFOLEtBQ2pCTCxFQUFVRSxFQUFJQyxJQURHLE9BVDVCRyxFQUFTVCxHQUFHZSxXQUFaTixHQU9PTixRQVBLSCxFQUFBZ0IsT0FBQSxHQUFBYixFQUFBYyxTQUFBWCxHQUFBRyxFQUFBUyxTQUFBQyxPQUFBQyxXQUFBWCxFQUFBSCxRQUFBSixvQkFTVE8sRUFBQVksS0FBQVosRUFBWUosSUFBSUMsS0FBQUEsT0FBU2dCLFFBQUFiLEVBQUFZLEtBQUFFLEtBQUEsV0FlWmYsS0FmWWdCLFVBQUF4QixFQWVaUSxNQWZZaUIsUUFBQSxVQW1CdkJoQixFQUFLaUIsa0JBZExqQixFQUFBa0Isc0JBZ0JBbEIsRUFBS21CLGVBRUx6QixFQUFTMEIsWUFBWUMsS0FBckJyQixHQXZCdUJBLEVBVGhCLE9BQUFzQixVQUFBNUIsRUFPWTZCLFdBUFpDLGFBQUE5QixFQUFBLENBQUEsQ0FBQStCLElBQUEsVUFBQUMsTUFBQSxXQW1EVGhDLEVBQUEwQixZQUFBTyxPQUFBakMsRUFBQTBCLFlBQUFRLFFBQUE3QixNQUFBLEdBS0VBLEtBQUthLEtBQUssR0FBR2lCLE1BQU1DLFVBQVksR0FDL0IvQixLQUFLZ0MsdUJBRkxyQyxLQUFBQSxJQUFBQSxHQUFTMEIsZ0JBQVlPLElBdkRkLENBQUFGLElBQUEsc0JBQUFDLE1BQUEsV0FzRk4zQixLQUFBaUMsc0JBQUFqQyxLQUFBa0MsaUJBQUFDLEtBQUFuQyxNQUNGQSxLQUFBYSxLQUFBLEdBQUF1QixpQkFBQSxPQUFBcEMsS0FBQWlDLHVCQXZGUSxJQUFBdEMsRUFBQTBCLFlBQUFnQixTQUFBMUMsRUFBQTJDLHVCQUFBQyxFQUFBQyxTQXlGYzdDLEVBQUE4QyxjQUFBLEdBQ3JCOUIsT0FBS0UsaUJBQVE2QixTQUFvQi9DLEVBQVEyQyx3QkFFekMzQyxFQUFJQSw2QkFBbUM0QyxFQUFBQyxTQUFBN0MsRUFBQWdELG9CQUFBLEdBQ3JDaEMsT0FBQUEsaUJBQU8rQixTQUFvQi9DLEVBQVVBLGlDQTdGaEMsQ0FBQStCLElBQUEsdUJBQUFDLE1BQUEsV0FBQTNCLEtBQUFhLEtBQUEsR0FBQTZCLG9CQUFBLE9BQUExQyxLQUFBaUMsdUJBbUdQLElBQUF0QyxFQUFBMEIsWUFBbUJ1QixTQUNwQmpDLE9BQUErQixvQkFBQSxTQUFBL0MsRUFBQTJDLHdCQXBHUTNCLE9BQUErQixvQkFBQSxTQUFBL0MsRUFBQWtELGlDQUFBLENBQUFuQixJQUFBLGVBQUFDLE1BQUEsV0FBQTNCLEtBQUFhLEtBQUEsR0FBQWlCLE1BQUFjLFFBQUEsSUFBQSxDQUFBbEIsSUFBQSxtQkFBQUMsTUFBQSxXQTRHUDNCLEtBQUFrQixvQkE1R08sQ0FBQVEsSUFBQSxrQkFBQUMsTUFBQSxXQWdIUCxJQUFBbUIsRUFBQSxFQUFrQkMsS0FBQUEsSUFBQUEsU0FBbEIvQyxLQUFBSCxHQUFBbUQsV0FBQUMsYUFBQSxJQUVBQyxFQURJQyxLQUFleEMsS0FBQUEsR0FBT3lDLGFBQ1BDLEVBQ25CQyxFQUFJQyxLQUFBQSxJQUFBQSxTQUFtQkMsSUFBQUEsRUFDdkJDLEVBQUlDLEtBQUFBLElBQVdSLFNBQUFBLElBSlhHLEVBQVlkLEVBQUVRLHVCQU1sQkksRUFBVXpDLE9BQVUwQyxZQUlsQk0sRUFBQVIsSUFIYXBCLEVBQU1DLEVBRVkwQixJQUFNSixFQUFZRixJQUdwRG5ELEtBQUFVLFNBNUhRMkMsRUFBQUMsR0FBQUcsRUF1Q2lCSixFQUFBRixJQUN4Qm5ELEtBQUFhLEtBQUEsR0FBQWlCLE1BQUFDLFVBQUEscUJBQUEyQixFQUFBLFVBeENPMUQsS0FBQWEsS0FBQSxHQUFBaUIsTUFBQUMsVUFBQSxNQUFBLENBQUEsQ0FBQUwsSUFBQSxPQUFBQyxNQUFBLFNBd0JEOUIsRUFBSkMsR0FDQSxPQUFBNkQsS0FBQWhFLEVBQUFRLFdBQUFDLE9BQUFDLGVBQUFWLEdBQUEsT0FBQUssTUFBQU0sS0FBQU4sS0FBQUEsS0FBaUI0RCxFQUFNM0MsS0F6QmxCLENBQUFTLElBQUEsY0FBQUMsTUFBQSxTQThDVTlCLEdBckNNLE9BdUJkd0IsRUFBQUEsT0FBVHhCLEVBQUEsR0FBQUEsR0F2QnVCVSxhQVRoQixDQUFBbUIsSUFBQSxnQkFBQUMsTUFBQSxXQTJEUCxJQUFBLElBQUtrQyxFQUFMLEVBQVl0RCxFQUFBQSxFQUFhdUQsWUFBekJ6QixPQUFBMEIsSUFBQSxDQUNELElBQUFDLEVBQUFyRSxFQUFBMEIsWUFBQTBDLEdBNURRQyxFQUFBOUMsZ0JBQUFaLEtBQUEwRCxNQUFBLENBQUF0QyxJQUFBLHNCQUFBQyxNQUFBLFdBc0VQLElBQUssSUFBSW9DLEVBQUksRUFBR0EsRUFBSXBFLEVBQVMwQixZQUFZZ0IsT0FBUTBCLElBQUssQ0FVdEQsSUFBSXBFLEVBQVMwQixFQUFUQSxZQUFtQzBDLEdBQ3JDcEUsRUFBUzJDLFNBQUFBLE9BQVQxQixXQUE2Q2pCLEVBQVM4QyxRQUF0RC9DLHVCQWpGSyxDQUFBZ0MsSUFBQSxXQUFBdUMsSUFBQSxXQW9DUCxPQUFPeEUsTUFwQ0FFLEVBQUEsR0FBQUEsRUFBQTBCLFlBQUEsR0FnRFBrQixFQUFBNUMsU0FBT3VFLEVBaERBM0IsRUFBQTRCLGNBQUE1QixFQUFBNkIsd0JBQUF6RSxFQUFBLFdBQUEsY0FBYixDQWdFUTBFIiwiZmlsZSI6InBhcmFsbGF4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGxldCBfZGVmYXVsdHMgPSB7XG4gICAgcmVzcG9uc2l2ZVRocmVzaG9sZDogMCwgLy8gYnJlYWtwb2ludCBmb3Igc3dpcGVhYmxlXG4gIH07XG5cbiAgY2xhc3MgUGFyYWxsYXggZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKFBhcmFsbGF4LCBlbCwgb3B0aW9ucyk7XG5cbiAgICAgIHRoaXMuZWwuTV9QYXJhbGxheCA9IHRoaXM7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIFBhcmFsbGF4XG4gICAgICAgKiBAbWVtYmVyIFBhcmFsbGF4I29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IHJlc3BvbnNpdmVUaHJlc2hvbGRcbiAgICAgICAqL1xuICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFBhcmFsbGF4LmRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB3aW5kb3cuaW5uZXJXaWR0aCA+IHRoaXMub3B0aW9ucy5yZXNwb25zaXZlVGhyZXNob2xkO1xuXG4gICAgICB0aGlzLiRpbWcgPSB0aGlzLiRlbC5maW5kKCdpbWcnKS5maXJzdCgpO1xuICAgICAgdGhpcy4kaW1nLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBlbCA9IHRoaXM7XG4gICAgICAgIGlmIChlbC5jb21wbGV0ZSkgJChlbCkudHJpZ2dlcihcImxvYWRcIik7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fdXBkYXRlUGFyYWxsYXgoKTtcbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5fc2V0dXBTdHlsZXMoKTtcblxuICAgICAgUGFyYWxsYXguX3BhcmFsbGF4ZXMucHVzaCh0aGlzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEluc3RhbmNlXG4gICAgICovXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fUGFyYWxsYXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIFBhcmFsbGF4Ll9wYXJhbGxheGVzLnNwbGljZShQYXJhbGxheC5fcGFyYWxsYXhlcy5pbmRleE9mKHRoaXMpLCAxKTtcbiAgICAgIHRoaXMuJGltZ1swXS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcblxuICAgICAgdGhpcy4kZWxbMF0uTV9QYXJhbGxheCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2hhbmRsZVNjcm9sbCgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUGFyYWxsYXguX3BhcmFsbGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHBhcmFsbGF4SW5zdGFuY2UgPSBQYXJhbGxheC5fcGFyYWxsYXhlc1tpXTtcbiAgICAgICAgcGFyYWxsYXhJbnN0YW5jZS5fdXBkYXRlUGFyYWxsYXguY2FsbChwYXJhbGxheEluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgX2hhbmRsZVdpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUGFyYWxsYXguX3BhcmFsbGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHBhcmFsbGF4SW5zdGFuY2UgPSBQYXJhbGxheC5fcGFyYWxsYXhlc1tpXTtcbiAgICAgICAgcGFyYWxsYXhJbnN0YW5jZS5fZW5hYmxlZCA9IHdpbmRvdy5pbm5lcldpZHRoID4gcGFyYWxsYXhJbnN0YW5jZS5vcHRpb25zLnJlc3BvbnNpdmVUaHJlc2hvbGQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlTG9hZEJvdW5kID0gdGhpcy5faGFuZGxlSW1hZ2VMb2FkLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLiRpbWdbMF0uYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2hhbmRsZUltYWdlTG9hZEJvdW5kKTtcblxuICAgICAgaWYgKFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBQYXJhbGxheC5faGFuZGxlU2Nyb2xsVGhyb3R0bGVkID0gTS50aHJvdHRsZShQYXJhbGxheC5faGFuZGxlU2Nyb2xsLCA1KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGxUaHJvdHRsZWQpO1xuXG4gICAgICAgIFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemVUaHJvdHRsZWQgPSBNLnRocm90dGxlKFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemUsIDUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZVRocm90dGxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLiRpbWdbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2hhbmRsZUltYWdlTG9hZEJvdW5kKTtcblxuICAgICAgaWYgKFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUGFyYWxsYXguX2hhbmRsZVNjcm9sbFRocm90dGxlZCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBQYXJhbGxheC5faGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBTdHlsZXMoKSB7XG4gICAgICB0aGlzLiRpbWdbMF0uc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgfVxuXG4gICAgX2hhbmRsZUltYWdlTG9hZCgpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVBhcmFsbGF4KCk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVBhcmFsbGF4KCkge1xuICAgICAgbGV0IGNvbnRhaW5lckhlaWdodCA9IHRoaXMuJGVsLmhlaWdodCgpID4gMCA/IHRoaXMuZWwucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQgOiA1MDA7XG4gICAgICBsZXQgaW1nSGVpZ2h0ID0gdGhpcy4kaW1nWzBdLm9mZnNldEhlaWdodDtcbiAgICAgIGxldCBwYXJhbGxheERpc3QgPSBpbWdIZWlnaHQgLSBjb250YWluZXJIZWlnaHQ7XG4gICAgICBsZXQgYm90dG9tID0gdGhpcy4kZWwub2Zmc2V0KCkudG9wICsgY29udGFpbmVySGVpZ2h0O1xuICAgICAgbGV0IHRvcCA9IHRoaXMuJGVsLm9mZnNldCgpLnRvcDtcbiAgICAgIGxldCBzY3JvbGxUb3AgPSBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XG4gICAgICBsZXQgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgbGV0IHdpbmRvd0JvdHRvbSA9IHNjcm9sbFRvcCArIHdpbmRvd0hlaWdodDtcbiAgICAgIGxldCBwZXJjZW50U2Nyb2xsZWQgPSAod2luZG93Qm90dG9tIC0gdG9wKSAvIChjb250YWluZXJIZWlnaHQgKyB3aW5kb3dIZWlnaHQpO1xuICAgICAgbGV0IHBhcmFsbGF4ID0gcGFyYWxsYXhEaXN0ICogcGVyY2VudFNjcm9sbGVkO1xuXG4gICAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy4kaW1nWzBdLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuXG4gICAgICB9IGVsc2UgaWYgKGJvdHRvbSA+IHNjcm9sbFRvcCAmJiB0b3AgPCBzY3JvbGxUb3AgKyB3aW5kb3dIZWlnaHQpIHtcbiAgICAgICAgdGhpcy4kaW1nWzBdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzRCgtNTAlLCAke3BhcmFsbGF4fXB4LCAwKWA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBhcmFsbGF4XG4gICAqL1xuICBQYXJhbGxheC5fcGFyYWxsYXhlcyA9IFtdO1xuXG4gIE0uUGFyYWxsYXggPSBQYXJhbGxheDtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFBhcmFsbGF4LCAncGFyYWxsYXgnLCAnTV9QYXJhbGxheCcpO1xuICB9XG5cbn0pKGNhc2gpO1xuIl19
