"use strict";var _createClass=function(){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}(),_get=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0};function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}!function(i){var e={top:0,bottom:1/0,offset:0,onPositionChange:null},t=function(t){function o(t,e){_classCallCheck(this,o);var n=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,o,t,e));return(n.el.M_Pushpin=n).options=i.extend({},o.defaults,e),n.originalOffset=n.el.offsetTop,o._pushpins.push(n),n._setupEventHandlers(),n._updatePosition(),n}return _inherits(o,Component),_createClass(o,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var t=o._pushpins.indexOf(this);o._pushpins.splice(t,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",o._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",o._updateElements)}},{key:"_updatePosition",value:function(){var t=M.getDocumentScrollTop()+this.options.offset;this.options.top<=t&&this.options.bottom>=t&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),t<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),t>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top","pinned","pin-bottom")}}],[{key:"init",value:function(t,e){return _get(o.__proto__||Object.getPrototypeOf(o),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Pushpin}},{key:"_updateElements",value:function(){for(var t in o._pushpins){o._pushpins[t]._updatePosition()}}},{key:"defaults",get:function(){return e}}]),o}();t._pushpins=[],M.Pushpin=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"pushpin","M_Pushpin")}(cash);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1c2hwaW4uanMiXSwibmFtZXMiOlsiJCIsIl9kZWZhdWx0cyIsInRvcCIsImJvdHRvbSIsIkluZmluaXR5Iiwib2Zmc2V0Iiwib25Qb3NpdGlvbkNoYW5nZSIsIl9Db21wb25lbnQiLCJQdXNocGluIiwiZWwiLCJvcHRpb25zIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImNhbGwiLCJNX1B1c2hwaW4iLCJleHRlbmQiLCJkZWZhdWx0cyIsIm9yaWdpbmFsT2Zmc2V0Iiwib2Zmc2V0VG9wIiwiX3B1c2hwaW5zIiwicHVzaCIsIl9zZXR1cEV2ZW50SGFuZGxlcnMiLCJfdXBkYXRlUG9zaXRpb24iLCJfaW5oZXJpdHMiLCJDb21wb25lbnQiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsInN0eWxlIiwiX3JlbW92ZVBpbkNsYXNzZXMiLCJfcmVtb3ZlRXZlbnRIYW5kbGVycyIsImluZGV4IiwiaW5kZXhPZiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl91cGRhdGVFbGVtZW50cyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzY3JvbGxlZCIsIk0iLCJnZXREb2N1bWVudFNjcm9sbFRvcCIsImNsYXNzTGlzdCIsImFkZCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiZWxzIiwiX2dldCIsImVsSW5kZXgiLCJnZXQiLCJqUXVlcnlMb2FkZWQiLCJpbml0aWFsaXplSnF1ZXJ5V3JhcHBlciIsImNhc2giXSwibWFwcGluZ3MiOiI0bkNBQUEsU0FBV0EsR0FHVCxJQUFJQyxFQUFZLENBQ2RDLElBQUssRUFDTEMsT0FBUUMsRUFBQUEsRUFDUkMsT0FBUSxFQUNSQyxpQkFBa0IsTUFKaEJMLEVBSFEsU0FBQU0sR0FXWixTQUFBQyxFQUFBQyxFQUFBQyxHQUFBQyxnQkFBQUMsS0FBQUosR0FBQSxJQUFBSyxFQUFBQywy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QUVVLGNBeklNVixFQUFBVyx3QkFBQTlDLEVBQUEsVUFBQSxhQUFkLENBbURNK0MiLCJmaWxlIjoicHVzaHBpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICB0b3A6IDAsXG4gICAgYm90dG9tOiBJbmZpbml0eSxcbiAgICBvZmZzZXQ6IDAsXG4gICAgb25Qb3NpdGlvbkNoYW5nZTogbnVsbFxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cbiAgY2xhc3MgUHVzaHBpbiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IFB1c2hwaW4gaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoUHVzaHBpbiwgZWwsIG9wdGlvbnMpO1xuXG4gICAgICB0aGlzLmVsLk1fUHVzaHBpbiA9IHRoaXM7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIG1vZGFsXG4gICAgICAgKiBAbWVtYmVyIFB1c2hwaW4jb3B0aW9uc1xuICAgICAgICovXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgUHVzaHBpbi5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIHRoaXMub3JpZ2luYWxPZmZzZXQgPSB0aGlzLmVsLm9mZnNldFRvcDtcbiAgICAgIFB1c2hwaW4uX3B1c2hwaW5zLnB1c2godGhpcyk7XG4gICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1B1c2hwaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuZWwuc3R5bGUudG9wID0gbnVsbDtcbiAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcblxuICAgICAgLy8gUmVtb3ZlIHB1c2hwaW4gSW5zdFxuICAgICAgbGV0IGluZGV4ID0gUHVzaHBpbi5fcHVzaHBpbnMuaW5kZXhPZih0aGlzKTtcbiAgICAgIFB1c2hwaW4uX3B1c2hwaW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgc3RhdGljIF91cGRhdGVFbGVtZW50cygpIHtcbiAgICAgIGZvciAobGV0IGVsSW5kZXggaW4gUHVzaHBpbi5fcHVzaHBpbnMpIHtcbiAgICAgICAgbGV0IHBJbnN0YW5jZSA9IFB1c2hwaW4uX3B1c2hwaW5zW2VsSW5kZXhdO1xuICAgICAgICBwSW5zdGFuY2UuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFB1c2hwaW4uX3VwZGF0ZUVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFB1c2hwaW4uX3VwZGF0ZUVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICBsZXQgc2Nyb2xsZWQgPSBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0O1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvcCA8PSBzY3JvbGxlZCAmJiB0aGlzLm9wdGlvbnMuYm90dG9tID49IHNjcm9sbGVkICYmXG4gICAgICAgICF0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygncGlubmVkJykpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlUGluQ2xhc3NlcygpO1xuXG4gICAgICAgIHRoaXMuZWwuc3R5bGUudG9wID0gYCR7dGhpcy5vcHRpb25zLm9mZnNldH1weGA7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgncGlubmVkJyk7XG5cbiAgICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mKHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlLmNhbGwodGhpcywgJ3Bpbm5lZCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBwaW4tdG9wICh3aGVuIHNjcm9sbGVkIHBvc2l0aW9uIGlzIGFib3ZlIHRvcClcbiAgICAgIGlmIChzY3JvbGxlZCA8IHRoaXMub3B0aW9ucy50b3AgJiYgIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaW4tdG9wJykpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlUGluQ2xhc3NlcygpO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IDA7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgncGluLXRvcCcpO1xuXG4gICAgICAgIC8vIG9uUG9zaXRpb25DaGFuZ2UgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZih0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZS5jYWxsKHRoaXMsICdwaW4tdG9wJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHBpbi1ib3R0b20gKHdoZW4gc2Nyb2xsZWQgcG9zaXRpb24gaXMgYmVsb3cgYm90dG9tKVxuICAgICAgaWYgKHNjcm9sbGVkID4gdGhpcy5vcHRpb25zLmJvdHRvbSAmJiAhdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bpbi1ib3R0b20nKSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVQaW5DbGFzc2VzKCk7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgncGluLWJvdHRvbScpO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IGAke3RoaXMub3B0aW9ucy5ib3R0b20gLSB0aGlzLm9yaWdpbmFsT2Zmc2V0fXB4YDtcblxuICAgICAgICAvLyBvblBvc2l0aW9uQ2hhbmdlIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YodGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UuY2FsbCh0aGlzLCAncGluLWJvdHRvbScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlbW92ZVBpbkNsYXNzZXMoKSB7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bpbi10b3AnLCAncGlubmVkJywgJ3Bpbi1ib3R0b20nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUHVzaHBpblxuICAgKi9cbiAgUHVzaHBpbi5fcHVzaHBpbnMgPSBbXTtcblxuICBNLlB1c2hwaW4gPSBQdXNocGluO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoUHVzaHBpbiwgJ3B1c2hwaW4nLCAnTV9QdXNocGluJyk7XG4gIH1cblxufSkoY2FzaCk7XG4iXX0=
