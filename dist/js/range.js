"use strict";var _createClass=function(){function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}}(),_get=function e(t,n,s){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var u=Object.getPrototypeOf(t);return null===u?void 0:e(u,n,s)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(s):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(o,t){var n={},e=function(e){function s(e,t){_classCallCheck(this,s);var n=_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,s,e,t));return(n.el.M_Range=n).options=o.extend({},s.defaults,t),n._mousedown=!1,n._setupThumb(),n._setupEventHandlers(),n}return _inherits(s,Component),_createClass(s,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeFocusBound=this._handleRangeFocus.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("focus",this._handleRangeFocusBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("focus",this._handleRangeFocusBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){o(this.value).html(this.$el.val()),o(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();o(this.thumb).addClass("active").css("left",e+"px")}},{key:"_handleRangeFocus",value:function(){M.tabPressed&&this.$el.addClass("focused")}},{key:"_handleRangeMousedownTouchstart",value:function(e){if(o(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),o(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==e.type){var t=this._calcRangeOffset();o(this.thumb).addClass("active").css("left",t+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){o(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();o(this.thumb).addClass("active").css("left",e+"px"),o(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){this.$el.removeClass("focused");var e=7+parseInt(this.$el.css("padding-left"))+"px";o(this.thumb).hasClass("active")&&(t.remove(this.thumb),t({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:e,duration:100})),o(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),o(this.thumb).addClass("thumb"),o(this.value).addClass("value"),o(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){o(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var e=-7+parseInt(o(this.thumb).parent().css("padding-left"))+"px";t.remove(this.thumb),t({targets:this.thumb,height:30,width:30,top:-30,marginLeft:e,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var e=this.$el.width()-15,t=parseFloat(this.$el.attr("max")),n=parseFloat(this.$el.attr("min"));return(parseFloat(this.$el.val())-n)/(t-n)*e}}],[{key:"init",value:function(e,t){return _get(s.__proto__||Object.getPrototypeOf(s),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Range}},{key:"defaults",get:function(){return n}}]),s}();M.Range=e,M.jQueryLoaded&&M.initializeJqueryWrapper(e,"range","M_Range"),e.init(o("input[type=range]"))}(cash,M.anime);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhbmdlLmpzIl0sIm5hbWVzIjpbIiQiLCJhbmltIiwiX2RlZmF1bHRzIiwiUmFuZ2UiLCJfQ29tcG9uZW50IiwiZWwiLCJvcHRpb25zIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImNhbGwiLCJNX1JhbmdlIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJfbW91c2Vkb3duIiwiX3NldHVwVGh1bWIiLCJfc2V0dXBFdmVudEhhbmRsZXJzIiwiX2luaGVyaXRzIiwiQ29tcG9uZW50IiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwidmFsdWUiLCJfcmVtb3ZlRXZlbnRIYW5kbGVycyIsIl9yZW1vdmVUaHVtYiIsInVuZGVmaW5lZCIsIl9oYW5kbGVSYW5nZUNoYW5nZUJvdW5kIiwiX2hhbmRsZVJhbmdlQ2hhbmdlIiwiYmluZCIsIl9oYW5kbGVSYW5nZUZvY3VzQm91bmQiLCJfaGFuZGxlUmFuZ2VGb2N1cyIsIl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRCb3VuZCIsIl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQiLCJfaGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZUJvdW5kIiwiX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmUiLCJfaGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmRCb3VuZCIsIl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZCIsIl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCIsIl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRodW1iIiwiaGFzQ2xhc3MiLCJfc2hvd1JhbmdlQnViYmxlIiwib2Zmc2V0TGVmdCIsIl9jYWxjUmFuZ2VPZmZzZXQiLCJhZGRDbGFzcyIsImNzcyIsIk0iLCJ0YWJQcmVzc2VkIiwiJGVsIiwiZSIsImh0bWwiLCJ2YWwiLCJ0eXBlIiwicmVtb3ZlQ2xhc3MiLCJtYXJnaW5MZWZ0IiwicmVtb3ZlIiwidGFyZ2V0cyIsImhlaWdodCIsIndpZHRoIiwidG9wIiwiZWFzaW5nIiwiZHVyYXRpb24iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJwYWRkaW5nTGVmdCIsInBhcnNlSW50IiwiYWZ0ZXIiLCJwYXJlbnQiLCJtYXgiLCJwYXJzZUZsb2F0IiwiYXR0ciIsIm1pbiIsImVscyIsIl9nZXQiLCJqcXVlcnkiLCJnZXQiLCJqUXVlcnlMb2FkZWQiLCJpbml0aWFsaXplSnF1ZXJ5V3JhcHBlciIsImluaXQiLCJjYXNoIiwiYW5pbWUiXSwibWFwcGluZ3MiOiI0bkNBQUMsU0FBVUEsRUFBR0MsR0FHWixJQUFJQyxFQUFZLEdBT1ZDLEVBVlksU0FBQUMsR0FNbEIsU0FBQUQsRUFBQUUsRUFBQUMsR0FBQUMsZ0JBQUFDLEtBQUFMLEdBQUEsSUFBQU0sRUFBQUMsMkJBQUFGLE1BQUFMLEVBQUFRLFdBQUFDLE9BQUFDLGVBQUFWLElBQUFXLEtBQUFOLEtBWVVMLEVBQU9FLEVBQUlDLElBWnJCLE9BY0lHLEVBQUtKLEdBQUdVLFFBQVJOLEdBTUtILFFBQVVOLEVBQUVnQixPQUFPLEdBQUliLEVBQU1jLFNBQVVYLEdBRTVDRyxFQUFLUyxZQUFhLEVBWHBCVCxFQUFBVSxjQWdCRVYsRUFBS1csc0JBM0JUWCxFQU5rQixPQUFBWSxVQUFBbEIsRUFVRW1CLFdBVkZDLGFBQUFwQixFQUFBLENBQUEsQ0FBQXFCLElBQUEsVUFBQUMsTUFBQSxXQXdEZGpCLEtBQUtrQix1QkFKUGxCLEtBQUFtQixlQU1FbkIsS0FBS0gsR0FBR1UsYUFBVWEsSUExREosQ0FBQUosSUFBQSxzQkFBQUMsTUFBQSxXQWlFZGpCLEtBQUtxQix3QkFBMEJyQixLQUFLc0IsbUJBQW1CQyxLQUFLdkIsTUFKOURBLEtBQUF3Qix1QkFBQXhCLEtBQUF5QixrQkFBQUYs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dGVudCI6WyIoZnVuY3Rpb24gKCQsIGFuaW0pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGxldCBfZGVmYXVsdHMgPSB7fTtcblxuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG4gIGNsYXNzIFJhbmdlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgUmFuZ2UgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoUmFuZ2UsIGVsLCBvcHRpb25zKTtcblxuICAgICAgdGhpcy5lbC5NX1JhbmdlID0gdGhpcztcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgcmFuZ2VcbiAgICAgICAqIEBtZW1iZXIgUmFuZ2Ujb3B0aW9uc1xuICAgICAgICovXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgUmFuZ2UuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcblxuICAgICAgLy8gU2V0dXBcbiAgICAgIHRoaXMuX3NldHVwVGh1bWIoKTtcblxuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1JhbmdlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICB0aGlzLl9yZW1vdmVUaHVtYigpO1xuICAgICAgdGhpcy5lbC5NX1JhbmdlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICovXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZVJhbmdlQ2hhbmdlQm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlUmFuZ2VGb2N1c0JvdW5kID0gdGhpcy5faGFuZGxlUmFuZ2VGb2N1cy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0Qm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmVCb3VuZCA9IHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kQm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUuYmluZCh0aGlzKTtcblxuXG5cbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2VCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlUmFuZ2VGb2N1c0JvdW5kKTtcblxuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRCb3VuZCk7XG5cbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuXG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZEJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZEJvdW5kKTtcblxuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hsZWF2ZScsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZUJvdW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2VCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlUmFuZ2VGb2N1c0JvdW5kKTtcblxuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRCb3VuZCk7XG5cbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuXG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZEJvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZEJvdW5kKTtcblxuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hsZWF2ZScsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZUJvdW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgUmFuZ2UgQ2hhbmdlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIF9oYW5kbGVSYW5nZUNoYW5nZSgpIHtcbiAgICAgICQodGhpcy52YWx1ZSkuaHRtbCh0aGlzLiRlbC52YWwoKSk7XG5cbiAgICAgIGlmICghJCh0aGlzLnRodW1iKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5fc2hvd1JhbmdlQnViYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIGxldCBvZmZzZXRMZWZ0ID0gdGhpcy5fY2FsY1JhbmdlT2Zmc2V0KCk7XG4gICAgICAkKHRoaXMudGh1bWIpLmFkZENsYXNzKCdhY3RpdmUnKS5jc3MoJ2xlZnQnLCBvZmZzZXRMZWZ0ICsgJ3B4Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIFJhbmdlIEZvY3VzXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIF9oYW5kbGVSYW5nZUZvY3VzKCkge1xuICAgICAgaWYgKE0udGFiUHJlc3NlZCkge1xuICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnZm9jdXNlZCcpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIFJhbmdlIE1vdXNlZG93biBhbmQgVG91Y2hzdGFydFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKi9cbiAgICBfaGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0KGUpIHtcbiAgICAgIC8vIFNldCBpbmRpY2F0b3IgdmFsdWVcbiAgICAgICQodGhpcy52YWx1ZSkuaHRtbCh0aGlzLiRlbC52YWwoKSk7XG5cbiAgICAgIHRoaXMuX21vdXNlZG93biA9IHRydWU7XG4gICAgICB0aGlzLiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgIGlmICghJCh0aGlzLnRodW1iKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5fc2hvd1JhbmdlQnViYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlLnR5cGUgIT09ICdpbnB1dCcpIHtcbiAgICAgICAgbGV0IG9mZnNldExlZnQgPSB0aGlzLl9jYWxjUmFuZ2VPZmZzZXQoKTtcbiAgICAgICAgJCh0aGlzLnRodW1iKS5hZGRDbGFzcygnYWN0aXZlJykuY3NzKCdsZWZ0Jywgb2Zmc2V0TGVmdCArICdweCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBSYW5nZSBJbnB1dCwgTW91c2Vtb3ZlIGFuZCBUb3VjaG1vdmVcbiAgICAgKi9cbiAgICBfaGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZSgpIHtcbiAgICAgIGlmICh0aGlzLl9tb3VzZWRvd24pIHtcbiAgICAgICAgaWYgKCEkKHRoaXMudGh1bWIpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgIHRoaXMuX3Nob3dSYW5nZUJ1YmJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9mZnNldExlZnQgPSB0aGlzLl9jYWxjUmFuZ2VPZmZzZXQoKTtcbiAgICAgICAgJCh0aGlzLnRodW1iKS5hZGRDbGFzcygnYWN0aXZlJykuY3NzKCdsZWZ0Jywgb2Zmc2V0TGVmdCArICdweCcpO1xuICAgICAgICAkKHRoaXMudmFsdWUpLmh0bWwodGhpcy4kZWwudmFsKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBSYW5nZSBNb3VzZXVwIGFuZCBUb3VjaGVuZFxuICAgICAqL1xuICAgIF9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZCgpIHtcbiAgICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xuICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBSYW5nZSBCbHVyLCBNb3VzZW91dCBhbmQgVG91Y2hsZWF2ZVxuICAgICAqL1xuICAgIF9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUoKSB7XG4gICAgICBpZiAoIXRoaXMuX21vdXNlZG93bikge1xuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICAgICAgICBsZXQgcGFkZGluZ0xlZnQgPSBwYXJzZUludCh0aGlzLiRlbC5jc3MoJ3BhZGRpbmctbGVmdCcpKTtcbiAgICAgICAgbGV0IG1hcmdpbkxlZnQgPSAoNyArIHBhZGRpbmdMZWZ0KSArICdweCc7XG5cbiAgICAgICAgaWYgKCQodGhpcy50aHVtYikuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgYW5pbS5yZW1vdmUodGhpcy50aHVtYik7XG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnRodW1iLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICB0b3A6IDEwLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogbWFyZ2luTGVmdCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAkKHRoaXMudGh1bWIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCBkcm9wZG93blxuICAgICAqL1xuICAgIF9zZXR1cFRodW1iKCkge1xuICAgICAgdGhpcy50aHVtYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHRoaXMudmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAkKHRoaXMudGh1bWIpLmFkZENsYXNzKCd0aHVtYicpO1xuICAgICAgJCh0aGlzLnZhbHVlKS5hZGRDbGFzcygndmFsdWUnKTtcbiAgICAgICQodGhpcy50aHVtYikuYXBwZW5kKHRoaXMudmFsdWUpO1xuICAgICAgdGhpcy4kZWwuYWZ0ZXIodGhpcy50aHVtYik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGRyb3Bkb3duXG4gICAgICovXG4gICAgX3JlbW92ZVRodW1iKCkge1xuICAgICAgJCh0aGlzLnRodW1iKS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBtb3JwaCB0aHVtYiBpbnRvIGJ1YmJsZVxuICAgICAqL1xuICAgIF9zaG93UmFuZ2VCdWJibGUoKSB7XG4gICAgICBsZXQgcGFkZGluZ0xlZnQgPSBwYXJzZUludCgkKHRoaXMudGh1bWIpLnBhcmVudCgpLmNzcygncGFkZGluZy1sZWZ0JykpO1xuICAgICAgbGV0IG1hcmdpbkxlZnQgPSAoLTcgKyBwYWRkaW5nTGVmdCkgKyAncHgnOyAvLyBUT0RPOiBmaXggbWFnaWMgbnVtYmVyP1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy50aHVtYik7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy50aHVtYixcbiAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgICAgd2lkdGg6IDMwLFxuICAgICAgICB0b3A6IC0zMCxcbiAgICAgICAgbWFyZ2luTGVmdDogbWFyZ2luTGVmdCxcbiAgICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1aW50J1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBvZmZzZXQgb2YgdGhlIHRodW1iXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAgb2Zmc2V0IGluIHBpeGVsc1xuICAgICAqL1xuICAgIF9jYWxjUmFuZ2VPZmZzZXQoKSB7XG4gICAgICBsZXQgd2lkdGggPSB0aGlzLiRlbC53aWR0aCgpIC0gMTU7XG4gICAgICBsZXQgbWF4ID0gcGFyc2VGbG9hdCh0aGlzLiRlbC5hdHRyKCdtYXgnKSk7XG4gICAgICBsZXQgbWluID0gcGFyc2VGbG9hdCh0aGlzLiRlbC5hdHRyKCdtaW4nKSk7XG4gICAgICBsZXQgcGVyY2VudCA9IChwYXJzZUZsb2F0KHRoaXMuJGVsLnZhbCgpKSAtIG1pbikgLyAobWF4IC0gbWluKTtcbiAgICAgIHJldHVybiBwZXJjZW50ICogd2lkdGg7XG4gICAgfVxuICB9XG5cbiAgTS5SYW5nZSA9IFJhbmdlO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoUmFuZ2UsICdyYW5nZScsICdNX1JhbmdlJyk7XG4gIH1cblxuICBSYW5nZS5pbml0KCQoJ2lucHV0W3R5cGU9cmFuZ2VdJykpO1xufShjYXNoLCBNLmFuaW1lKSk7XG4iXX0=
